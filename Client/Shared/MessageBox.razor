<div class="message-box" @attributes="AdditionnalAttributes">
    @if (PreTime == default || Time - PreTime >= TimeSpan.FromMinutes(3))
    {
        <span class="message-box__time">@Time</span>
    }
    <div class="message-box__main">
        <img class="message-box__avatar" src="@Avatar" />
        @*<svg class="message-box__avatar" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">
                <defs>
                    <clipPath id="clip-path">
                        <rect width="24" height="24" fill="none" />
                    </clipPath>
                </defs>
                <g id="Media_Person_Picture__Elements_Avatar_24px" data-name="Media / Person Picture / _Elements / Avatar 24px" clip-path="url(#clip-path)">
                    <g id="Default">
                        <circle id="Circle" cx="12" cy="12" r="12" fill="rgba(0,0,0,0.6)" />
                        <g id="_12px_12px_footprint" data-name="12px / 12px footprint" transform="translate(6 6)">
                            <rect id="Footprint" width="12" height="12" fill="rgba(0,0,0,0)" />
                            <text id="Icon" transform="translate(0 12)" fill="#fff" font-size="12" font-family="SegoeMDL2Assets, Segoe MDL2 Assets"><tspan x="0" y="0"></tspan></text>
                        </g>
                    </g>
                </g>
            </svg>*@
        <div class="message-box__section">
            <span class="message-box__nickname">@Nickname</span>
            <span class="message-box__content">@Content</span>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string Avatar { get; set; }

    [Parameter]
    public string Nickname { get; set; }

    [Parameter]
    public string Content { get; set; }

    [Parameter]
    public DateTime Time { get; set; }

    [Parameter]
    public DateTime PreTime { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public IReadOnlyDictionary<string, object> AdditionnalAttributes { get; set; }
}
