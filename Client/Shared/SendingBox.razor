@using Microsoft.AspNetCore.SignalR.Client

<div class="sending-box">
    <fluent-text-field class="sending-box__input" placeholder="message" @bind-value="Message" @bind-value:event="oninput"></fluent-text-field>
    <fluent-button class="sending-box__button" appearance="accent" disabled="@(!string.IsNullOrWhiteSpace(Message))" @onclick="SendAsync">Send</fluent-button>
</div>

@code {

    [Parameter]
    public HubConnection connection { get; set; }

    [Parameter]
    public string Target { get; set; }

    protected string Message { get; set; }

    protected async virtual Task SendAsync()
    {
        await connection.SendAsync(Target, Message);
    }
}
